<section id="project-section" [ngsReveal]="{scale: 1, opacity: 0, origin: 'right', distance: 300, delay: 100, distance: '300px', duration: 500}">
  <div class="container">

    <div *ngIf="project; else spinner">
      <app-page-title [title]="project?.title" [subtitle]="subtitle" [hasBackButton]="true"></app-page-title>

      <div class="project-container">
        <div class="project-subsection">
          <app-project-timeline [project]="project"></app-project-timeline>
        </div>

        <div class="row project-subsection project-info">
          <div class="col-lg-6">
            <h4 class="green-text">Adresse</h4>
            <div>{{project?.address}}</div>
            <div>{{project?.city}}</div>
            <div>{{project?.zipcode}}</div>
          </div>

          <div class="col-lg-6">
            <h4 class="green-text">Informations</h4>
            <div>
              <b class="label">DÃ©but du chantier</b>
              <span>{{project?.startDate}}</span>
            </div>
            <div>
              <b class="label">Fin du chantier</b>
              <span>{{project?.endDate ? project?.endDate : 'En cours...'}}</span>
            </div>
            <div>
              <b class="label">Statut</b>
              <span [class.red-text]="project?.status === 'PENDING' || project?.status === 'WAITING_PAYMENT'">{{project?.getStatus()}}</span>
            </div>
            <div *ngIf="project?.notes?.length">
              <b class="label">Commentaires</b>
              <span>{{project?.notes}}</span>
            </div>
          </div>
        </div>
      </div>

      <div class="project-subsection">
        <h4 class="green-text">Devis</h4>

        <div class="invoices-list" *ngIf="invoices?.length; else emptyList">
          <ng-container *ngFor="let invoice of invoices">
            <app-list-item icon="invoice-icon" [title]="invoice.title" [subtitle]="invoice.date" link="/espace-client/factures/{{invoice.id}}"></app-list-item>
          </ng-container>
        </div>

        <ng-template #emptyList>
          <div class="invoices-list empty-list">
            <app-svg-icon name="invoice-icon" [size]="200"></app-svg-icon>
            Pas encore de devis
          </div>
        </ng-template>
      </div>

      <div class="project-subsection">
        <h4 class="green-text">Factures</h4>

        <div class="invoices-list" *ngIf="invoices?.length; else emptyList">
          <ng-container *ngFor="let invoice of invoices">
            <app-list-item icon="invoice-icon" [title]="invoice.title" [subtitle]="invoice.date" link="/espace-client/factures/{{invoice.id}}"></app-list-item>
          </ng-container>
        </div>

        <ng-template #emptyList>
          <div class="invoices-list empty-list">
            <app-svg-icon name="invoice-icon" [size]="200"></app-svg-icon>
            Pas encore de facture
          </div>
        </ng-template>
      </div>

    </div>

    <ng-template #spinner>
      <app-spinner></app-spinner>
    </ng-template>
  </div>
</section>
